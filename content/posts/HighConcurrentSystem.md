---
title: "高并发系统-笔记"
date: 2023-02-24T19:47:37+08:00
draft: false
tags:
  - 高并发系统 

---

>  极客时间-https://time.geekbang.org/column/article/595683

## 开篇

高并发系统熟悉又陌生，常用到的服务：淘宝、微博、美团、12306

为什么百万并发系统不能直接使用 MySQL 服务？
为什么 Redis 内存相比磁盘，需要用更多的空间？
怎么保证条件查询缓存的数据一致性？
为什么高级语言不能直接做业务缓存服务？

上面提到的为什么百万并发不能直接使用 MySQL 服务，我大概能回答出来的就是因为太高的并发查询会导致 MySQL 缓慢，然后简单地讲讲如何用缓存抵挡流量😅要了解一下 分布式数据库索引、存储、数据分片、存储分离等相关知识。

互联网服务的核心价值就是流量，流量越大，平台的可能性和空间就越大。

**如果改造高并发系统：** 识别系统类型、完善监控系统、梳理改造要点、小步改造认证

### 识别系统类型

按数据特征给系统分类：**读多写少、强一致性、写多读少、读多写多**
#### 读多写少

用户中心，这类系统的优化工作会聚焦于如何通过缓存分担数据库查询压力，做好缓存，加缓存后，主从同步延迟、多机房同步等保证数据一致性

#### 强一致性

电商系统，主要挑战是承接高并发流量的同时，还要做好系统隔离性、事务一致性以及库存高并发争抢不超卖。系统隔离、同步降级和库存锁等相关内容的认识，弄明白分布式事务组件的运作规律。

#### 写多读少

高并发 写系统，全量日志分布式链路跟踪系统。涉及大量数据如何落盘、如何传输、存储、压缩，还有冷热数据的切换备份、索引查询等多方面问题。

#### 读多写多

游戏、直播服务，最复杂的系统类型，线上稍微有点问题，都极其影响用户体验。这类系统数据基本都是在内存中直接对外服务，同时服务都要拆成很小的单元，数据是周期落到磁盘或数据库，而不是实时更新到数据库。因此我们的学习重点是如何用内存数据做业务服务、系统无需重启热更新、脚本引擎集成、脚本与服务互动交换数据、直播场景高并发优化、一些关于网络优化 CDN 和 DNS、知识以及业务流量调度、客户端本地缓存等相关知识。



